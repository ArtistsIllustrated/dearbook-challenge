services:
  ollama:
    image: ollama/ollama
    ports:
      - "11434:11434"
    volumes:
      - .ollama:/root/.ollama

  timescale:
    image: timescale/timescaledb-ha:pg16
    environment:
      POSTGRES_USER: admin
      POSTGRES_PASSWORD: password
    volumes:
      - database:/home/postgres/pgdata/data
      - ./images:/images
    ports:
      - "5432:5432"

#  open-webui:
#    image: ghcr.io/open-webui/open-webui:main
#    volumes:
#      - open-webui:/app/backend/data
#    depends_on:
#      - ollama
#    ports:
#      - "8080:8080"
#    environment:
#      - 'OLLAMA_BASE_URL=http://ollama:11434'
#      - 'WEBUI_SECRET_KEY='

volumes:
  database:
  open-webui: